<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>00 - vue</title>
    <script src="https://cdn.jsdelivr.net/npm/vue@2"></script>

</head>

<div id="app"style="background-color: bisque">
    <pre>{{items}}</pre>

    <formulario @subir-producto='addItem' style="background-color: #ffc669"></formulario>

    <lista-productos :items="items"></lista-productos>


</div>


<body>

<script>

    Vue.component('formulario',{
        template:`
        <div>
        <pre> {{item}}</pre>
            <input v-model="item.name" type="text">
            <input v-model="item.pvp" type="text">

            <button v-on:click="addItem">add</button>
         </div>
        `,
        data: function () {
            return {
                item: {id:null, name:null, pvp:"null"},
                cont: 1
            }
        },
        methods:{

            addItem: function () {
                this.item.id=this.cont
                this.cont++
                this.$emit('subir-producto',this.item)
            }
        }
    })

    Vue.component('lista-productos',{
        template:`
            <div>
                <ul>
                    <li v-for="item in items" :key="item.cont">
                        {{ item.name }}
                    </li>
                </ul>
            </div>
        `,
        props:['items'],
        data: function(){
            return {

            }
        }
    })

    new Vue({
        el:'#app',
        data:{
            nuevoItem:null,
            items:[],
            ticket:null
        },

        methods: {
            addItem(item) {
                this.items.push(item)
            }
        }

    })



</script>
</body>

</html>